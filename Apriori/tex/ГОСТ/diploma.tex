\documentclass[koi8-r,usehyperref,14pt]{G7-32}
\usepackage[T2A]{fontenc}
\usepackage[koi8-r]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{float,epsfig,subfigure,multicol,wrapfig, verbatim, cmap}
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}.}
%\usepackage[dvips]{graphicx}
%\graphicspath{{pictures/}}

\TableInChaper % таблицы будут нумероваться в пределах раздела
\PicInChaper   % рисунки будут нумероваться в пределах раздела
\setlength\GostItemGap{2mm}% для красоты можно менять от 0мм

\bibliographystyle{unsrt} %Стиль библиографических ссылок БибТеХа

%%%%%%%<------------- НАЧАЛО ДОКУМЕНТА
\begin{document}
\usefont{T2A}{ftm}{m}{} %%% Использование шрифтов Т2 для возможности скопировать текст из PDF-файлов.

\frontmatter %%% <-- это выключает нумерацию ВСЕГО; здесь начинаются ненумерованные главы типа Исполнители, Обозначения и прочее

\tableofcontents

%\NormRefs % Нормативные ссылки
%\Defines % Необходимые определения

\chapter{Аннотация}

В данной дипломной работе описываются некоторые современные методы обнаружения разладки в случайных процессах. Метод Неймана-Пирсона и последовательный тест Вальда. Последний из которых используется в разработанной программе в целях наискорейшего обнаружения смены интенсивности движения с заданной точностью. А так же система ВАДС, использующаяся в программе для определения пропускной способности перекрёстка.

Основным результатом проведённой работы является программный продукт, обладающий простым и интуитивно понятным интерфейсом, который позволяет в реальном времени отслеживать изменение пропускной способности перекрёстка и информировать пользователя о возможности возникновения затора.

\Introduction
Невозможно представить современную жизнь при отсутствии дорожного транспорта. Сегодня у многих жителей России есть свой личный автомобиль, тогда как отыскать человека, никогда в жизни не пользовавшегося общественным транспортом довольно сложная задача. Это безусловно удобно. Но с развитием этой отрасли, неизбежно и появление издержек. Машин становится всё больше, плотность проживания людей в результате урбанизации увеличивается. Эти тенденции приводят к увеличению загруженности транспортных систем. Встаёт вопрос о том, чтобы в автоматическом режиме обнаруживать слабые места в транспортной сети и распределять нагрузку с наиболее загруженных участков.

Для решения этих проблем и были придуманы интеллектуальные транспортные системы. ИТС~--- это интеллектуальная система, использующая инновационные разработки в моделировании транспортных систем и регулировании транспортных потоков, предоставляющая конечным потребителям большую информативность и безопасность, а также качественно повышающая уровень взаимодействия участников движения по сравнению с обычными транспортными системами. Особенность ИТС относительно других видов наблюдения за транспортными потоками или их моделирования заключается в том, что ИТС даёт возможность в автоматическом режиме сигнализировать о наступлении событий, ведущих к возникновению на дороге проблемных ситуаций.

ИТС включает в себя информационные и коммуникационные технологии в сфере автотранспорта (включая инфраструктуру, транспортные средства, участников системы, а также дорожно--транспортное регулирование), и имеющую наряду с этим возможность взаимодействия с другими видами транспорта.\cite{directive}

Одной из важнейших задач интеллектуальных транспортных систем является заблаговременное обнаружение опасности возникновения заторов на пересечениях транспортных потоков, вызванных ограниченной пропускной способностью этих участков. Наискорейшее обнаружение опасности затора даёт возможность соответствующим дорожным службам успеть подготовиться к этой проблеме и принять какие--либо меры для её предотвращения. Пропускная способность перекрёстка зависит от множества факторов, таких как состав движения, угол обзора, качество покрытия. Но основным параметром является интенсивность движения на встречном и перекрёстных направлениях.

Для измерения интенсивности движения на участке автодороги современные технические средства позволяют определять интервалы времени, отделяющие два ближайших автомобиля. Тогда значение мгновенной интенсивности движения на данном участке является отношением количества машин, проехавших за данный промежуток к его длительности. Вычисляемые данным способом интенсивности составляют случайный процесс.

Целью работы является разработка программного комплекса, позволяющего с заданной точностью определить, сменилась ли интенсивность движения, насколько она сменилась, и появилась ли в новой ситуации опасность возникновения затора.

Работа состоит из трёх основных разделов. В первом рассмотрены различные подходы к обнаружению разладки в случайных процессах и их сравнение, а так же описана модель имитации транспортных потоков на двухполосных автомобильных дорогах, позволяющая вычислять величину пропускной способности перекрёстка. Во втором разделе описывается концептуальная, формальная и математическая постановки задачи и её решение.

\mainmatter %% это включает нумерацию глав и секций в документе ниже

\chapter{Литературный обзор}

\section{Обзор методов обнаружения разладки в случайных процессах}

В современном мире методы теории принятия решений в условиях неопределённости используются довольно широко. Есть несколько классических книг, посвящённых теории принятия решений, нацеленных на решение конкретных задач общего интереса, возникающих при динамическом анализе (в режиме реального времени) статистических данных, получаемых, например, в финансовой инженерии, в теории обнаружения сигналов на фоне помех и т.д. В первую очередь стоит отметить такие монографии как \cite{blekuellGirshik} и \cite{karlin}.

Из русскоязычных авторов наибольший вклад в изучение этой теории осуществил Альберт Николаевич Ширяев. В частности, вопрос об оптимальной остановке Винеровского процесса был подробно рассмотрен в книге \cite{shiryaev}. В данной работе автор рассматривает методы обнаружения нежелательных внедрений, основанного на Anomaly Detection Systems.

Обычно, внедрение в сети происходит в неизвестный заранее момент времени $\theta$ и сопровождается изменением вероятностно--статистических свойств некоторых характеристик наблюдаемого процесса(например, количества отправленных и принятых сервером пакетов). Поэтому естественно возникает идея математически сформулировать задачу обнаружения атаки как задачу скорейшего обнаружения момента $\theta$ появления разладки в ходе наблюдаемого процесса.

Основным аппаратом решения таких задач является последовательный анализ принятия решений. Такие задачи удобно формулировать как задачи об оптимальной остановке. Методы их решения в значительной мере опираются на современный аппарат теории случайных процессов, стохастического исчисления, теории мартингалов, нелинейной фильтрации и т.д.

Для начала рассмотрим различные способы решения задачи о разладке, описанные в современной литературе.

\subsection{Тест Неймана--Пирсона}

Предположим, что наблюдаемые данные описываются числовой последовательностью

$$
x_1, x_2, ..., x_n, ...
$$

являющейся результатом наблюдений над независимыми одинаково распределёнными случайными величинами

$$
\xi_1, \xi_2, ..., \xi_n, ...
$$

Далее мы будем считать, что $\xi_k$~--- это одномерные случайные величины, и предполагать, что одномерные функции распределения $F_{\theta} = F_{\theta}(x) ( = P_{\theta} (\xi_n \leq x))$ имеют (при любых $n \geq 1$) плотности $f_\theta(x)$:
$$
dF_\theta(x) = f_\theta(x) dx
$$

Независимость и одинаковая распределённость означают, что плотность $p_\theta(x_1, x_2, ..., x_n)$ совместного распределения $F_\theta(x_1, x_2, ..., x_n) = P_\theta(\xi_1 \leq x_1, \xi_2 \leq x_2, ..., \xi_n \leq x_n)$ имеет следующий вид:
$$
p_\theta(x_1, x_2, ..., x_n) = f_\theta(x_1) f_\theta(x_2) ... f_\theta(x_n)
$$

Одной из ключевых статистик (для каждого $n \geq 1$) будет статистика
$$
L_n = \frac{f_0(x_1) f_0(x_2) ... f_0(x_n)}{f_\infty(x_1) f_\infty(x_2) ... f_\infty(x_n)}
$$

Исключительная роль этих статистик $L_n$, $n \geq 1$, называемых отношениями правдоподобия, проявляется в задаче различения двух гипотез $H_0$ и $H_\infty$ (по $N$ наблюдениям) о том, какую именно плотность, $f_0(x)$ или $f_\infty(x)$, имеют наблюдаемые случайные величины $\xi_1, \xi_2, ..., \xi_N$. Решение этой задачи даётся так называемой леммой Неймана--Пирсона(см. \cite{leman},гл 3).

На основе данной статистики для обнаружения разладки строится  тест Неймана--Пирсона, который предписывает принимать гипотезу $H_0$, состоящую в том, что разладка имеет место, если $Z_m \geq h$ и $H_1$, состоящую в том, что разладки нет, если $Z_m \leq h$. Где $Z_m$ это процесс вида

$$
Z_t = log L_t(X)
$$

А $L_t(X)$ в свою очередь является отношением правдоподобия

$$
L_t(X) = \frac{p_0}{p_\infty}(Xt)
$$






\subsection{Тест Вальда}





Другой тест, описанный в \cite{aivazyan}, строится следующим образом.

Пусть имеется числовая последовательность $x_1, x_2, ...$ с $x_i \in \mathbb{R}$ 

Будем считать, что заданы две вероятностные меры $P_0$ и $P_\infty$. Через $f_\theta(x)$ будем обозначать плотность распределения

\begin{displaymath}
  P_\theta(\xi \in B) = \int_B f_\theta(x)\mu(dx), \theta = \{0, \infty\}
\end{displaymath}

Предположим, что шаг за шагом мы получаем данные $x_1, x_2, ...$, являющиеся наблюдениями над случайными величинами $\xi_1, \xi_2, ...$. Мы хотим различить две гипотезы $H_0$ и $H_\infty$~--- о том, какое действует распределение, $P_0$ или $P_\infty$,~--- используя последовательные тесты, определяемые следующим образом.

Каждый последовательный тест $\delta$ определяется парой $(\tau, \phi)$, где

\begin{enumerate}
  \item $\tau = \tau(x)$~--- марковский момент (или момент остановки), принимающий значения $0, 1, ..., \infty$
  \item $\phi = \phi(x)$~--- функция со значениями в $[0, 1]$,  порождённая величинами $x_1, x_2, ..., x_\tau$.
\end{enumerate}

Момент $\tau$ интерпретируется как момент прекращения наблюдений с последующим принятием решения $\phi = \phi(x)$, интерпретируемого как вероятность принятия гипотезы $H_0$, когда наблюдениями являются $x_1, x_2, ..., x_\tau$.

Обозначим вероятность ошибки первого и второго рода как $\alpha(\phi)$ и $\beta(\phi)$ соответственно.

Тогда тест $\delta* = (\tau*, \phi*)$ является оптимальным в классе $\Delta(\alpha, \beta)$, где

$$
\Delta(\alpha, \beta) = \{\delta = (\tau, \phi): E_\infty \tau < \infty, E_0 \tau < \infty \, и \, \alpha(\phi) \leq \alpha, \beta(\phi) \leq \beta \}
$$

если одновременно

$$
E_\infty \tau* \leq E_\infty \tau
$$
$$
E_0 \tau* \leq E_0 \tau
$$

для любого другого теста $\delta = (\tau, \phi) \in \Delta (\alpha, \beta)$

А. Вальд установил, что такой оптимальный тест действительно существует и описывается следующей леммой.

\textbf{Лемма 1.} Пусть $\delta = (\tau, \phi)$~--- последовательный тест с
$$
E_\infty \tau \geq \frac{\omega(\alpha, \beta)}{\rho_\infty}
$$
и
$$
E_0 \tau \geq \frac{\omega(\beta, \alpha)}{\rho_\infty}
$$
где
$$
\omega(x,y) = x \log \frac{x}{1-y} + (1-x) \log \frac{1-x}{y}
$$
А $\rho_\infty$ ($\rho_0$)~--- расстояния Кульбака--Лейблера между гипотезами $H_\infty$ и $H_0$ ($H_0$ и $H_\infty$). Которые определяются по следующим формулам
$$
\rho_\infty = \int_X \ln \frac{f_\infty}{f_0} [f_\infty - f_0]dx
$$
$$
\rho_0 = \int_X \ln \frac{f_0}{f_\infty} [f_0 - f_\infty]dx
$$

Такой оптимальный тест описан в \cite{shiryaev} и выглядит следующим образом.

Пусть $\alpha$ и $\beta$~--- ошибки первого и второго рода. А $X_t = x_1 + x_2 + ... + x_t$. Момент остановки определяется так:
$$
\tau_{A,B} = \inf\{n \geq 1: \: Z_n \geq B \, или \, Z_n \leq A\}
$$
где
$$
A = \log \frac{\beta}{1 - \alpha}
$$
$$
B = \log \frac{1 - \beta}{\alpha}
$$
$$
A \leq 0 \leq B
$$
и
$$
Z_n = log L_n(x) = \sum_{k = 1}^{n} \log \frac{f_0(x_k)}{f_\infty(x_k)}
$$








\subsection{Сравнение методов Неймана--Пирсона и Вальда для Винеровского процесса}

Подробный анализ сравнения рассмотренных методов был проведён Ширяевым А. в работе \cite{shiryaev}. Приведём здесь некоторые выдержки из данного анализа.

Будем считать, что $B = (B_t)_{t \geq 0}$~--- Винеровский процесс. Процесс $B_t$ задан координатным образом:
$$
B_t(x) = x_t.
$$

%Плотность $\phi_t(x)$ распределения $P(B_t \leq x)$ задаётся формулой
%$$
%\phi_t(x) = \frac{1}{\sqrt{2\pi t}}e^{\frac{-x^2}{2t}}
%$$
%

Относительно наблюдаемого процесса $X = (X_t)_{t \geq 0}$ есть две гипотезы
$$
H_0:\quad X_t = \mu_0 t + B_t, \quad t \leq T
$$
и
$$
H_\infty:\quad X_t = \mu_\infty t + B_t, \quad t \leq T
$$
где $\mu_0 \ne \mu_\infty$

Среднее время обнаружения разладки для метода Неймана--Пирсона определяется формулой

$$
T\*_0(m,h;t) = \int R_0(m,h;y,t) p_\infty (0,0;t,y) dy
$$

Где $R_0(m,h;y,t)$~--- среднее время обнаружения разладки, появившейся в момент $t \in [0,m]$. А $p_\infty (0,0;t,y)$~--- плотность распределения величины $Z_t$ в предположении отсутствия разладки и при условии $Z_0 = 0$.

И в приложении к обнаружении разладки в Броуновском движении при $\alpha = \beta \to 0$ оно будет иметь такую ассимптотику:
$$
T = \frac{(C_{1-\alpha} - C_\beta)^2}{\left( \frac{\mu_0 - \mu_\infty}{\sigma} \right)^2}
$$
где $C_\gamma$~--- $\gamma$--квантиль нормального распределения.

Для теста Вальда среднее время обнаружения разладки, как уже упоминалось выше определяется формулами
$$
E_0 \tau = \frac{\omega(\beta, \alpha)}{\rho}
$$
и
$$
E_\infty \tau = \frac{\omega(\alpha, \beta)}{\rho}
$$

И при условии, что $\alpha = \beta \to 0$ то для обнаружения разладки методом Вальда, нужно в 4 раза меньше наблюдений, чем методом Неймана--Пирсона:
$$
\frac{E_\infty \tau}{T} = \frac{2 \omega (\alpha, \beta)}{(C_\alpha + C_\beta)^2} = \frac{1}{4}
$$

Поэтому для решения поставленной задачи в данной работе будет использоваться последовательный тест Вальда.

Для определения степени загруженности перекрёстка используется модель компьютерной имитации транспортных потоков на двухполосных автомобильных дорогах. 








\section{Концептуальная модель компьютерной имитации транспортных потоков на двухполосных автомобильных дорогах}

Для описания движения автомобилей по автомобильным дорогам, городским улицам и автомагистралям разработаны многочисленные математические модели \cite{_5}, \cite{_6}, \cite{_10}, \cite{_12}, \cite{_13}, \cite{_16}, \cite{_18}, \cite{_23}, \cite{_34}, \cite{_35}, \cite{_41} и др.

Разработка математической модели транспортного потока или математическое описание его характеристик является одним из важнейших и ответственных этапов при решении задач количественной и качественной оценки функционирования системы ВАДС, поскольку именно на этом этапе решается вопрос, насколько точно будут учтены те характеристики транспортного процесса и количественные связи между ними, которые необходимы для решения конкретных поставленных задач.

Строгого определения понятия сложной системы не существует. Основными отличительными признаками сложных систем являются:
\begin{itemize}
\item наличие большого количества взаимосвязанных и взаимодействующих элементов;
\item сложность функций, выполняемой системой и направленной на достижение заданной цели функционирования;
\item возможность разбиения системы на подсистемы, цели функционирования которых подчинены общей цели функционирования системы;
\item наличие управления, разветвленной информационной сети и интенсивных потоков информации;
\item наличие взаимодействия с внешней средой и функционирование в условиях воздействия случайных факторов \cite{_7}.
\end{itemize}

Дорожное движение обладает всеми перечисленными свойствами. Естественно рассматривать его в виде сложной системы и обозначать \glqq водитель~--- автомобиль~--- дорога~--- окружающая среда\grqq (ВАДС) \cite{_35}.

Совершенствование электронно--вычислительной техники наряду с достижениями теории сложных систем привело к возникновению и успешному развитию нового направления в области исследования сложных систем~--- машинной имитации. По определению Т. Нейлора, машинная имитация~--- это численный метод проведения компьютерных экспериментов с математическими моделями, описывающими поведение сложной системы в течение продолжительных периодов времени \cite{_29}. Главным преимуществом метода машинной имитации является возможность проведения экспериментов не с реальной системой, а с ее математической моделью, реализованной на компьютере; при этом не существует ограничений по проведению экспериментов с целью изучения любых характеристик движения автомобиля \cite{_35}.

Членом -- корр. АН СССР Н.П. Бусленко и его школой предложена унифицированная абстрактная схема агрегата, которая позволяет единообразно описывать все элементы сложной системы (дискретные, непрерывные, детерминистические, стохастические) \cite{_7}.

Общий принцип работы предлагаемой имитационной модели соответствует теории имитационного моделирования транспортных потоков, разработанной одним из авторов данной монографии \cite{_13}. Здесь для моделирования сложной системы ВАДС используется схема кусочно--непрерывного агрегата, с математической точки зрения представляющий собой условный марковский процесс с кусочно--непрерывными траекториями в пространстве переменной размерности. Конкретная реализация имитационной модели в виде микроописания отдельных блоков, а также полностью отлаженного программного комплекса, предназначенного для оценки степени опасности дорожного движения, пропускной способности, потерь времени, других характеристик транспортного потока на заданном участке дороги осуществлена другим автором \cite{_5} на базе языков программирования FORTRAN и Visual C++.

Агрегат характеризуется множествами моментов времени $Т$, состояний в каждый момент времени $Z$, входных $X$ и выходных $Y$ сигналов. Состояние агрегата в момент $t \in T$ обозначается $z(t) \in Z$, входные и выходные сигналы соответственно~--- $x(t) \in X$, и $y(t) \in Y$.

Состояние агрегата в момент $(t+0)$ обозначим $z(t+0)$. Предполагается, что из состояния $z(t)$ в состояние $z(t+0)$ агрегат приходит за малый интервал времени. Переход агрегата из состояния $z(t_1)$ в $z(t_2)$,  $t_2 > t_1$, определяется динамическими свойствами самого агрегата и входными сигналами.

Во множестве состояний $Z$ выделяется такое подмножество $Z^{(W)}$, что если в момент $t'$  $z(t')$ достигает $Z^{(W)}$, то агрегат скачкообразно изменяет свое состояние. Пусть эти изменения описываются оператором $W$:
$$
z(t'+0) = W[t', z(t')] \eqno(1)
$$
В случае воздействия входного сигнала $x_n$ поведение модели описывается оператором  $V$. Тогда состояние $z(t_n+0)$, где $t_n$~--- момент поступления в агрегат входного сигнала $x_n, t_n \in T$,

$$
z(t_n+0)=V[t_n, z(t_n), x(t_n)]\eqno(2)
$$

Если интервал $(t_n, t_{n+1})$ не содержит ни одного момента поступления сигналов, то для $t_n \in (t_n, t_{n+1}]$ состояние агрегата определяется оператором

$$
z(t) = U[t, t_n, z(t_n+0)]\eqno(3)
$$
Совокупность операторов $W$, $V$ и $U$ рассматривается как оператор переходов агрегата в новое состояние.

Во множестве состояний $Z$ выделяется подмножество $Z^{(Y)}$ $(Z^{(W)}$ и $Z^{(Y)}$ могут пересекаться) такое, что если $z(t*)$ достигает $Z^{(Y)}$, то выдается выходной сигнал, который определяется оператором выходов

$$
y=G[t*, z(t*)]\eqno(4)
$$

Упорядоченная совокупность рассмотренных множеств $T$, $X$, $Z$, $Z^{(W)}$, $Z^{(Y)}$ ,$Y$ и случайных операторов $W$, $V$, $U$, $G$ полностью задает агрегат как динамическую систему.
Определенного рода упорядоченная совокупность конечного числа агрегатов называется агрегативной системой \cite{_7}.

Агрегативные системы в качестве математической модели транспортных потоков в России использовались, начиная с 1980--х годов, в исследованиях В.В. Сильянова, В.М. Еремина, В.Г. Крбашяна, Р.С. Картанбаева, М.С. Талаева, А.И. Должикова, О.И. Тонконоженкова, С.П. Крысина и других. В этих исследованиях рассмотрены различные проблемы проектирования автомобильных дорог и безопасности дорожного движения.

Объектом данного исследования является дорожное движение на различных фрагментах сети двухполосных автомобильных дорог. Вся сеть дорог представлена в виде графа, который состоит из узлов и ребер. Узлами являются перекрестки (примыкания) вместе с подходами к нему. Длина каждого из подходов определяется расстоянием влияния перекрестка и составляет 150~--- 200 м. Ребрами являются двухполосные перегоны. Математической моделью каждого элемента графа, т.е. узла или ребра является кусочно--непрерывный агрегат. Очевидно, что если входные и выходные контакты соответствующих агрегатов соединить каналами связи, то можно получить агрегативную систему, которая соответствует любому заданному подмножеству дорожной сети. При этом количество моделируемых элементов дорожной сети ограничивается только техническими параметрами применяемой вычислительной техники (оперативная память, быстродействие и т.д.). Таким образом, моделируемая система ВАДС состоит из двух типов агрегатов: <<Узел>> и <<Ребро>>.

Ниже, если особо не будет оговорено, будем рассматривать наиболее общий случай кусочно--непрерывного агрегата <<Узел>>~--- перекресток с четырьмя подходами (рис. \ref{fig1}).

\begin{figure}[tH]
  \centering{
  \includegraphics[width=0.8\linewidth]{pictures/cross_vads.png}
  \caption{Схема моделируемого нерегулируемого перекрестка}\label{fig1}

 }
\end{figure}

Продольные оси всех подходов к перекрестку пересекаются в точке $О$. Углы между ними $\alpha_1$, $\alpha_2$, $\alpha_3$, $\alpha_4$, могут принимать любые значения, в соответствии с конфигурацией конкретного перекрестка. Обычно $\alpha_1 = \alpha_3$, и $\alpha_2 = \alpha_4$.
Выберем неподвижную прямоугольную систему координат $ХОУ$ с центром в точке $О$. Пусть координатная ось ОХ направлена вдоль продольной оси одного из подходов к перекрестку (1--й подход). Весь перекресток разбит на 9 подсистем:

\begin{itemize}
\item $L = 1, 3, 5, 7$~--- полосы движения, подходящие к перекрестку;
\item $L = 2, 4, 6, 8$~--- полосы движения, отходящие от перекрестка;
\item $L = 9$~--- перекресток.
\end{itemize}
Каждая из полос движения $L=1 \div 8$ в свою очередь может быть разбита на несколько участков, которые отличаются друг от друга геометрическими параметрами и/или средствами организации движения (элементарный участок). Перекресток ($L=9$) состоит из 12 элементарных участков (рис. \ref{fig2}). Под элементарным участком на перекрестке понимается участок полосы движения, соединяющий конец каждого из четырех нечетных полос движения с началом каждой из четных полос движения (кроме сопряженной четной полосы движения).

\begin{figure}[tH]
  \centering{
  \includegraphics[width=0.8\linewidth]{pictures/turns_vads.png}
  \caption{Нумерация элементарных участков на перекрестке}\label{fig2}

 }
\end{figure}


% Множество моментов времени $Т$ агрегата задается вектором $t_{i,j}$, где $i$~--- номер автомобиля (способ нумерации автомобилей описан ниже); $j$~--- номер ситуации, при наступлении которого состояние агрегата скачкообразно меняется. Размерность вектора Т во многом определяет скорость проведения имитационного эксперимента. В модели предусмотрено 30 ситуаций, а также одновременное присутствие в системе 1500 автомобилей.

Состояние агрегата Z описывается постоянными параметрами системы и переменными координатами. К постоянным относятся:
\begin{enumerate}
\item Параметры каждого элементарного участка дороги:

\begin{itemize}

\item длина элементарного участка дороги по продольной оси;
\item расстояние видимости до встречного автомобиля в плане;
\item расстояние видимости до встречного автомобиля в продольном профиле;
\item коэффициент сцепления шины с поверхностью дороги;
\item продольный уклон участка дороги;
\item поперечный уклон участка дороги;
\item ширина проезжей части;
\item ширина обочины;
\item радиус кривизны в плане;
\item радиус вертикальной кривой в плане;
\item координата начала продольной оси участка дороги по оси OX;
\item координата начала продольной оси участка дороги по оси OY;
\item направление полосы движения;
\item параметры уравнения продольной оси участка дороги в аналитическом виде;
\item ограничение скорости движения легковых автомобилей;
\item ограничение скорости движения средних грузовых автомобилей;
\item ограничение скорости движения тяжелых грузовых автомобилей;
\item ограничение скорости движения автобусов;
\item ровность дорожного покрытия;
\item ровность дорожного покрытия;
\item обгон запрещен;
\item обгон грузовым автомобилям запрещен;
\item коэффициент сопротивления качению при скорости движения автомобиля 20 км/ч;
\item угловой коэффициент скорости движения для определения коэффициента сопротивления качению.
\end{itemize}

\item Объекты окружающей среды, ограничивающие видимость.

\item Транспортные потоки, задающиеся следующими параметрами:
\begin{itemize}
\item интенсивность в начале полосы движения;
\item распределение интенсивности по направлениям движения (направо, прямо, налево);
\item состав потока на каждой полосе движения. Транспортный поток в модели состоит из свыше 20 наиболее типичных отечественных и зарубежных марок автомобилей, которые сгруппированы по 4 типам: легковые, средние грузовые, тяжелые грузовые, автобусы.
\end{itemize}
\item Тягово--динамические и технико--эксплуатационные характеристики автомобилей всех марок:
\begin{itemize}
\item передаточное число  k--й передачи коробки перемен передач (КПП) автомобиля;
\item передаточные числа главной передачи;
\item передаточное число делителя КПП;
\item габаритная длина автомобиля;
\item габаритная ширина автомобиля;
\item габаритная высота автомобиля;
\item база;
\item колея;
\item передний свес;
\item расстояние от переднего бампера до глаз водителя по продольной оси;
\item коэффициент обтекаемости;
\item собственная масса;
\item нагрузка на переднюю ось;
\item нагрузка на заднюю ось;
\item полная масса;
\item нагрузка на переднюю ось при полной массе;
\item нагрузка на заднюю ось при полной массе;
\item параметры для определения коэффициента учета вращаюшихся масс;
\item максимальный крутящий момент двигателя;
\item угловая скорость коленчатого вала, соответствующая максимальному крутящему моменту;
\item максимальная мощность двигателя;
\item угловая скорость коленчатого вала, соответствующая максимальной мощности двигателя;
\item время срабатывания тормозного привода;
\item время запаздывания тормозного привода и времени нарастания замедления (при торможении);
\item передаточное число рулевого механизма;
\item коэффициент полезного действия трансмиссии;
\item коэффициент коррекции двигателя;
\item свободный радиус колеса автомобиля;
\item динамический радиус колеса;
\item радиус поворота по следу внешнего переднего колеса;
\item радиус поворота по следу внешней, габаритной точки.
\end{itemize}

\item Закон распределения коэффициента использования грузоподъемности (загрузки) автомобилей.
\end{enumerate}

К переменным координатам состояния агрегата относятся:

\begin{enumerate}
\item Количество автомобилей на полосе движения и на перекрестке в текущий момент времени.
\item Координаты всех моделируемых автомобилей, зависящие от следующих параметров:

\begin{itemize}
\item пройденный путь;
\item координата автомобиля по продольной оси дороги;
\item расстояние автомобиля от продольной оси в поперечном направлении (принимает положительное значение, если автомобиль расположен левее от продольной оси и отрицательные значения, если правее);
\item скорость движения;
\item тангенциальное ускорение;
\item нормальное ускорение;
\item время, прошедшее с момента формирования автомобиля;
\item курсовой угол автомобиля в системе координат $ХОУ$ [рис. 2.1];
\item угол наклона;
\item крен автомобиля;
\item угол поворота управляемых колес;
\item угловая скорость поворота рулевого колеса;
\item угловая скорость поворота управляемых колес;
\item координаты автомобиля, соответственно по оси $OX$ и $OY$;
\item скорость движения, соответственно по оси $OX$ и $OY$;
\item ускорение автомобиля, соответственно по оси $OX$ и $OY$;
\item угол поворота управляемых колес, при котором водитель прекращает поворот рулевого колеса на 1--ом и 7--ом этапе маневра обгона (или на 1--ом этапе перестроения);
\item то же самое, но на 4--ом и 10--ом этапе обгона [рис. 2.11];
\item угловая скорость поворота управляемых колес при обгоне;
\item длина прямолинейного участка на 3--м и 9--ом этапе обгона;
\item тип водителя по скорости свободного движения;
\item время реакции водителя на изменение режима движения лидера;
\item время реакции водителя при появлении помехи на перекрестке;
\item время, оставшееся до истечения времени реакции водителя на изменение режима движения лидера;
\item то же самое, но после наступления другого события;
\item коэффициент использования грузоподъемности;
\item угловая скорость поворота управляемых колес на 3--м этапе поворота;

Под координатами автомобиля понимаются координаты середины задней оси автомобиля.

\item номер элементарного участка дороги или перекрестка, на котором находится автомобиль в данный момент времени;
\item марка автомобиля;
\item тип автомобиля;
\item состояния в процессе обгона (обгоняющий, обычный, обгоняемый);
\item количество обгоняемых автомобилей, находящихся впереди;
\item номер автомобиля в пачке;
\item тип передачи КПП;
\item направление дальнейшего движения после перекрестка (налево, прямо, направо);
\item состояние сигналов поворота (включен сигнал левого поворота, выключен, включен сигнал правого поворота);
\item состояние стоп--сигналов (включены, выключены);
\item следование за лидером [(см. п. 2.3, ситуации 1--4)];
\item номер ближайшего встречного автомобиля;
\item номер ближайшего встречного автомобиля, который находится в зоне видимости;
\item номер автомобиля -- лидера, за которым следует данный автомобиль;
\item номер этапа в процессе поворота (всего 3 этапа);
\item номер этапа в процессе обгона (всего 11 этапов);
\item индекс приоритетов (помеха справа, помеха слева, помехи отсутствуют);
\item тип водителя по реакции на ограничение скорости движения (нарушает правила дорожного движения (ПДД) или не нарушает ПДД);
\item тип водителя по реакции на дорожный знак <<Обгон запрещен>> (нарушает требования дорожного знака или не нарушает);
\item тип водителя по дистанции следования (<<осторожный>>, <<обычный>>, <<рискованный>>);
\item тип водителя по оценке обстановки около перекрестка (изменение скорости движения заранее до безопасной величины, изменение скорости движения только при появлении в зоне видимости помехи справа);
\item тип водителя по включению сигналов поворота (включает или не включает);
\item номер ситуации, после наступления которого, водитель принял решение изменить режим движения;
\item положение, куда попадет автомобиль после перекрестка
\item наличие или отсутсвие встречного автомобиля на своей полосе движения.
\end{itemize}

\item Приоритет проезда через перекресток.
\end{enumerate}

В зависимости от необходимого объема выходной информации задается время моделирования $t_{мод}$, которое в дальнейшем по мере работы модели уменьшается до нуля. Вместо истечения времени моделирования предусмотрены также другие правила остановки модели: прохождение через заданный участок дороги определенного количества автомобилей; накопление определенного количества статистической информации и т.д.

Более подробно данная модель описана в \cite{eremin}

\chapter{Математическая модель}

\section{Концептуальная постановка задачи}

Каждый элемент улично--дорожной сети (УДС) характеризуется своей пропускной способностью. Пропускная способность отдельных участков УДС определяется пропускной способностью узкого места. Узкими местами являются пересечения и примыкания автомобильных дорог. Одной из основных задач интеллектуальных транспортных систем (ИТС) является предсказание появления заторов на участках УДС, которые образуются в случае превышения пропускной способности элементов УДС (в нашем случае~--- пересечение автомобильных дорог). Чем раньше и надёжнее мы сможем оценить интенсивность движения на подходе к узкому месту, тем эффективнее будут действия ИТС по предотвращению заторов. Таким образом основной задачей данной работы является определение достоверной интенсивности движения на всех возможных подходах к узкому месту с возможностью минимизации времени фиксирования разладки.

Поскольку формирование транспортного потока на подходах к узкому месту являются случайными процессами, то в качестве математического аппарата используются вероятностно статистические методы в теории принятия решений.

Поскольку число пересечений автомобильных дорог различных типов достаточно велико, то в качестве узкого места в данной работе было выбрано нерегулируемое, равнозначное пересечение двухполосных дорог в одном уровне. Такого типа пересечения являются наиболее сложными в описании их функционирования по пропуску транспортных потоков. Перейдём к формализации постановки задачи.

\section{Формальная постановка задачи}

Интенсивностью движения по одной полосе называется число автомобилей, проходящих в единицу времени через заданный створ полосы движения. Пропускной способностью полосы движения называется максимальное число автомобилей, проходящих в единицу времени через конечный створ полосы движения. Пропускная способность полосы движения зависит от многих факторов: геометрических характеристик полосы, состояние её покрытия, видимость, состав транспортного потока и так далее.

Пропускную способность пересечения определить не так то просто.
%рисунок
На рисунке \ref{fig2} представлены возможные маршруты движения транспортных потоков на нерегулируемом равнозначном двухполосном пересечении двух дорог. Мы видим, что всего таких маршрутов 12. При этом каждый из них в принципе может быть независим от всех остальных, поэтому не совсем понятно, что в таком случае считать пропускной способностью пересечения. Пропускная способность определяется по работам \cite{eremin}, \cite{_10}, \cite{_16}. Исходя из этих работ, пропускной способностью пересечения является многомерная функция, зависящая от 11 переменных. Данная функция строится по результатам компьютерных экспериментов с имитационными моделями транспортных потоков, движущихся по пересечению. Компьютерные эксперименты для определения указанной функции заключаются в следующем. Фиксируются значения интенсивности движения в одиннадцати маршрутах, а для двенадцатого маршрута проводятся серии экспериментов для увеличивающихся значений интенсивности движения по нему до тех пор, пока не будет достигнута пропускная способность данного маршрута. Для получения указанной функции требуется проведение сотен тысяч и боее компьютерных экспериментов с соответствующем семейством имитационных моделей. Такие эксперименты были проведены для рассматриваемого в данной работе пересечения и их результаты используются в работе в качестве исходных данных.

Предполагается, что фрагмент рассматриваемой ИТС состоит из пунктов наблюдения за четырьмя интенсивностями движения на подходе к пересечению, которые могут находиться на значительном расстоянии от пересечения (2~--- 4 километра и более). Задача ИТС состоит в определении точного значения интенсивности движения на подходах и проведении прогноза возможности образования заторов на пересечении.

Рассмотрим в отдельности один подход к пересечению. Пусть в заданном его створе происходит сбор информации о проходящих автомобилях.

Предполагается, что в пункте наблюдения (створ полосы движения) случайным образом появляются автомобили. Случайные интервалы между появляением двух соседних автомобилей могут быть распределены по разным законам (Пуассона, Эрланга, Гаусса). Пункт наблюдения должен проводить оценку интенсивности движения за конкретный промежуток времени(5 минут, 10, и т.д.) или после появления определённого числа автомобилей (50, 100 и т.д.). Значение интенсивности движения есть случайная величина. Задача ИТС заключается в определении времени наступления и величины разладки с заданной точностью. Эта задача решается в пункте 4 данной работы.

Собрав такого рода информацию на всех подходах к пересечению определяется вероятность появления заторов, т.е. превышения пропускной способности пересечения, о чём говорилось выше.

Желательно, чтобы система также давала предупреждения о значениях интенсивности близкой к пропускной способности.

\section{Математическая постановка задачи}

Пусть имеется пересечение двухполосных дорог. На каждом из направлений установлены датчики, которые снимают время $\Delta t$ между двумя проезжающими подряд автомобилями. По прошествии некоторого времени можно установить значение мгновенной интенсивности движения $x_n$ на данном направлении за прошедший отрезок времени. В данной работе мгновенная интенсивность вычисляется по прошествии 5 минут. Если отбросить первый интервал, и прибавить к рассматриваемому набору ещё несколько промежутков времени, чтобы сумма снова была более 5 минут, то можно вычислить следующую интенсивность $x_{n+1}$. Получающаяся таким образом последовательность представляет случайный процесс, который обозначим $x$. Тогда
$$
x = \{x_1, x_2, ... x_n\}
$$

Задачей математической модели является построение теста, позволяющего определить с заданной величиной ошибок первого и второго рода ($\alpha$ и $\beta$)  момент разладки, когда сменились параметры процесса. В данной работе нас интересует смена математического ожидания, т.е. смена интенсивности движения. Математическое ожидание до появления разладки будем обозначать $\mu_0$, а после~--- $\mu_\infty$.

Как уже было сказано выше в работе будет использоваться последовательный тест Вальда:

$$
\delta = (\tau_{A,B}, d_{A,B})
$$

где

$$
\tau_{A,B} = \inf\{t \geq 0: \: Z_t \notin (A,B)\}
$$

$$
d_{A,B} = \left\{
\begin{array}{rl}
    1, \quad если \: Z_{\tau_{A,B}} \geq B \\
    0, \quad если \: Z_{\tau_{A,B}} \leq A
\end{array}
, \quad 
A \leq 0 \leq B
\right.
$$
$$
A = \log \frac{\beta}{1 - \alpha}, \qquad
B = \log \frac{1 - \beta}{\alpha}
$$

и процесс $(Z_t)_{t \geq 0}$ построен следующим образом

$$
Z_t = log L_n(x) = X_t \frac{\mu_0 - \mu_\infty}{\sigma^2} - \frac{1}{2 \sigma^2}(\mu_0^2 - \mu_\infty^2)t.
$$

Решение $d_{A,B} = 0$ сопровождается принятием гипотезы $H_0$ (разладка отсутствует); если $d_{A,B} = 1$, то принимается гипотеза $H_\infty$ о наличии разладки.

После принятия решения наблюдения не прерываются, а продолжаются. В случае, когда процесс $Z_t$ достиг уровня $A$, то принимается решение, что разладки нет, происходит возврат процесса в нуль и наблюдение продолжается. Когда же значение процесса достигает $B$, то выносится решение о разладке, т.е. об окончании наблюдения (рис. \ref{discord_detection}).

\begin{figure}%[tH]
  \centering{
  \includegraphics[width=0.7\linewidth]{pictures/discord_detection.png}
  \caption{Схема процедуры выявления разладки}\label{discord_detection}

 }
\end{figure}

Остаётся найти величину разладки. Т.е. разницу $\mu_0 - \mu_\infty$. После обнаружения наличия разладки, для определения её величины, мы будем постепенно с минимальным шагом увеличивать или уменьшать величину $\mu_\infty$ в зависимости от того, в какую сторону изменилось значение интенсивности, и заново пересчитывать значение процесса $Z_t$, пока оно не станет удовлетворять величине, при которой тест не выдаёт решение о наличии разладки.

Т.к. интенсивность движения высчитывается за 5 минут, а во входных данных задаётся промежутком, равным одному часу, то имеет смысл взять за минимальный шаг изменения интенсивности равное $\frac{60}{5} = 12$.

Таким образом мы имеем всю необходимую теорию для программной реализации.

\chapter{Программная реализация}

Программный комплекс состоит из нескольких модулей(рис. \ref{whole_program}):
\begin{itemize}
\item модуль, отвечающий за обнаружение разладки. На вход ему поступают данные с моделируемого датчика, на выходе у него величина разладки (WaldDetection);
\item модуль, отвечающий за взаимодействия с системой ВАДС. Вход~--- текущая интенсивность по всем направлениям. Выход~--- пропускная способность перекрёстка(PrSp);
\item интегральный модуль, который отвечает за графический интерфейс и объединение предыдущих двух частей(GUI).
\end{itemize}

\begin{figure}%[tH]
  \centering{
  \includegraphics[width=0.7\linewidth]{pictures/whole_program.png}
  \caption{Структура программного комплекса}\label{whole_program}

 }
\end{figure}

Для программной реализации данного продукта в качестве языка программирования был выбран \verb;C++;, главными плюсами которого являются скорость выполнения программы, широкое распространение и удобство использования. Для написания графической части программы используется кросс--платформенный инструментарий разработки ПО Qt. Главным преимуществом, определившим выбор именно этого средства для разработки комплекса, является кросс--платформенность создаваемого приложения, при достаточной функциональности.

Разработка ведётся в среде <<Qt Creator>>, которая включает в себя редактор кода, справку, графические средства и возможность отладки приложений. <<Qt Creator>> может использовать GCC или \verb;Microsoft VC++; в качестве компилятора и GDB в качестве отладчика. Для Windows версий библиотека комплектуется компилятором, заголовочными и объектными файлами MinGW.

Рассмотрим по отдельности каждую из частей программы.

\section{Модуль обнаружения разладки}

Данный модуль представляет из себя класс, который устроен следующим образом. При инициализации необходимо передать в конструктор класса данные, которые в течение всего времени жизни экземпляра класса останутся неизменными. Такими параметрами для нашей задачи являются значения ошибок первого и второго рода и величина среднеквадратического отклонения.

Основная математическая часть программы сосредоточена в процедуре \verb+add_point+. Здесь на основе поступающих значений $\Delta t$ высчитывается мгновенная интенсивность движения и, используя тест Вальда, определяется момент появления разладки.

\section{Модуль взаимодействия с системой ВАДС}

Задачей класса \verb+PrSp+ является на основе полученной из программного комплекса ВАДС базы данных установить пропускную способность перекрёстка. Эти данные можно представить, как восьмимерную функцию $f(x_1, x_2, ... x_8)$, заданную дискретно. Параметрами функции выступают: интенсивность движения на встречном направлении, интенсивность движения на перекрёстных направлениях и шесть параметров, отвечающих за распределение потока автомобилей по направлениям поворота. Значением этой функции является пропускная способность перекрёстка на данном направлении.

Ввиду того, что в рамках одного эксперимента считается, что распределение потока автомобилей по направлениям поворота не меняется, то можно рассматривать дискретно заданную функцию $f$ как функцию двух переменных. Тогда для того, чтобы получить значение функции для любых значений параметров (а не только тех, которые есть в базе данных ВАДС), можно применить билинейную интерполяция.

В модуле \verb+PrSp+ данные из системы ВАДС для ускорения поиска хранятся в виде хэш--таблицы, где ключём является закодированное значение всех возможных вариантов входных данных. Кодируются данные довольно просто. Каждое уникальное значение параметра записывается как цифра в $n$--мерной системе исчисления, где $n$~--- максимальное количество возможных вариантов значения любого из параметров.

\section{Интегральный модуль}

Интегральный модуль объединяет и согласует между собой работу двух предыдущих модулей (см. рис. \ref{whole_program}). Здесь на основе введённых данных на каждом направлении случайным образом генерируются значения $\Delta t$ и передаются на вход модулю \verb+WaldDetection+. В случае отсутствия разладки, \verb+WaldDetection+ возвращает нуль, а в случае обнаружения разладки~--- её величину.

Изменение интенсивности движения на одном из направлений, говорит о том, что изменилась пропускная способность перекрёстка и возникает необходимость её вычислить. Для этого в модуль \verb+PrSp+ передаются величины интенсивностей по всем направлениям. Полученное значение пропускной способности сравнивается с интенсивностью движения на входном направлении перекрёстка и вычисляется величина загруженности перекрёстка. Визуально степень загруженности отображается цветом квадрата, расположенного на графической части программы.

Одной из задач разработки программного продукта является реализация простого и удобного пользовательского интерфейса (рис. \ref{program}), который позволяет работникам, не обладающим высокой квалификацией использовать данную систему. Исходя из этих соображений, графический интерфейс разделён на три основных блока: блок входной информации, графическое отображение происходящего процесса и таблица с выходными данными, по которой человек может понять, какова была история развития процесса, а так же увидеть точные цифры времени изменения интенсивности движения и новые значения пропускной способности.

\begin{figure}[tH]
  \centering{
  \includegraphics[width=\linewidth]{pictures/program.png}
  \caption{Внешний вид системы определения пропускной способности перекрёстка}\label{program}
 }
\end{figure}

\section{Статистические испытания}

Самым важным модулем в данном программном продукте является модуль обнаружения разладки. Чтобы проверить правильность его работы, проведём достаточное число испытаний, позволяющих статистически установить точность обнаружения разладки. Каждая процедура обнаружения разладки выглядит как показано на рисунках \ref{dd_xt} и \ref{dd_zt}. Здесь момент смены подаваемой на вход интенсивности с 250 авт./час до 350 авт./час происходит на 298--й минуте(рис. \ref{dd_xt}), а обнаружение разладки происходит когда процесс $Z_t$ пересекает границу A на 328--й минуте(рис. \ref{dd_zt}).

\begin{figure} 
  \centering{
  \includegraphics[width=\linewidth]{pictures/dd_xt.png}
  \caption{Изменение мгновенных интенсивностей со временем}\label{dd_xt}
 }
\end{figure}

\begin{figure} 
  \centering{
  \includegraphics[width=\linewidth]{pictures/dd_zt.png}
  \caption{Процесс Zt обнаружения разладки}\label{dd_zt}
 }
\end{figure}


Проведём десять тысяч подобных испытаний, чтобы установить процент верного определения разладки. Результаты испытаний видны в таблице \ref{discord_stat}, состоящей из пяти столбцов:

\begin{enumerate}
\item величина изменения интенсивности в отношении к среднеквадратическому отношению~--- $\frac{\mu_\infty - \mu_0}{\sigma}$;

\item количество правильных обнаружений разладки~--- $R$;

\item количество преждевременных срабатываний~--- $W$;

\item количество не обнаруженных разладок за промежуток, в течение которого прошло 100 автомобилей~--- $N$;

\item среднее время обнаружения разладки~--- $\tau - t$.

\end{enumerate}

\begin{table}[H]
\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
$\frac{\mu_\infty - \mu_0}{\sigma}$  & $R$ & $W$ & $N$ & $E(\tau - t)$ \\
\hline
0.1 & 469 & 74 & 457 & 69 \\
\hline
0.2 & 620 & 76 & 304 & 70 \\
\hline
0.3 & 835 & 51 & 114 & 68 \\
\hline
0.4 & 926 & 39 & 35 & 67 \\
\hline
0.5 & 979 & 14 & 7 & 73 \\
\hline
0.6 & 992 & 3 & 5 & 74 \\
\hline
0.7 & 998 & 0 & 2 & 70 \\
\hline
0.8 & 1000 & 0 & 0 & 71 \\
\hline
0.9 & 1000 & 0 & 0 & 70 \\
\hline
1.0 & 1000 & 0 & 0 & 67 \\
\hline
\end{tabular}
\caption{Результаты испытаний}\label{discord_stat}
\end{center}
\end{table}

В ходе экспериментов был доказан важный для развития современных интеллектуальных транспортных систем факт, состоящий в том, что пропускная способность перекрёстка зависит далеко не только от величин интенсивности на подходе к нему, но и от распределения направлений поворота машин на перекрёстке. Для подтверждения этого, была проведена серия компьютерных экспериментов на моделях системы ВАДС, результаты которых приведены на рис. \ref{turn_chart}. Здесь ярко--красным цветом отмечено изменение пропускной способности в зависимсоти от интенсивности движения для распределения <<(20, 60, 20), (20, 60, 20)>>(Т.е. по встречному и перекрёстным направлениям, преобладает направление движения прямо), а зелёным~--- для распределения <<(20, 20, 60), (20, 20, 60)>>. При этом скорость падения пропускной способности перекрёстка увеличивается до полутора раз, в зависимости от разного распределения направлений движения машин.

Проведённые испытания с программным комплексом для данных с рисунка \ref{turn_chart} показали невозможность определения заторов с помощью традиционного оборудования.

\begin{figure}
  \centering{
  \includegraphics[width=\linewidth]{pictures/turn_chart.png}
  \caption{Зависимость падения пропускной способности C от распределения направления поворота}\label{turn_chart}
 }
\end{figure}

\backmatter %% Здесь заканчивается нумерованная часть документа и начинаютяс заключение и ссылки

\Conclusion % заключение к отчёту

Рассматриваемая тема является актуальной, поскольку развитие и внедрение интеллектуальных транспортных систем признано во всём мире и в нашей стране главным направлением совершенствования автомобильно--дорожных систем, особенно в современных условиях быстрого роста интенсивности движения. Основными результатами работы являются следующие:

\begin{enumerate}
\item Для обнаружения разладки в процессе наблюдения за потоком машин реализован последовательный тест Вальда, который показал высокую эффективность.
\item В среде программирования Qt на языке \verb;C++; реализован программный комплекс, обладающий удобным и интуитивно понятным интерфейсом, который позволяет работникам не обладающим высокой квалификацией использовать данную систему. Основной задачей, которую решает комплекс, является оповещение пользователя о возможном появлении затора на нерегулируемом перекрёстке.
\item Полученные результаты показывают широкие возможности применения подхода для решения автотранспортных задач. Показано, что используемое традиционное оборудование ИТС принципиально не решает ряд практически важных задач.
\end{enumerate}

%
%СТАТИСТИКА!
%
%1. График определения разладки для нашего процесса. (\verb+draw_wald+)
%
%2. Среднее значение времени определения разладки. Экспериментальное и теоретическое.

%
%\section{Проблематика  мышления}
%\subsection{Пример торсионных недонаногенераторов}
%
%Для вставки рисунков используйте стандартное окружение figure и директиву includegraphics (в этом примере это закомментировано). Пустой рисунок приведён на рис.~\ref{fig1}.
%
%\begin{figure}
% \caption{Пример рисунка}\label{fig1}
% \centering{
%  \begin{picture}(100,50)
%   \put(  0, 0){\line( 1, 0){100}}
%   \put(  0, 0){\line( 0, 1){ 50}}
%   \put(100,50){\line(-1, 0){100}}
%   \put(100,50){\line( 0,-1){ 50}}
%% \includegraphics[width=0.5\linewidth]{picture.eps} }
%  \end{picture}
% }
%\end{figure}
%
%В отчётах могут быть и таблицы - см.табл.~\ref{T:T1}.
%
%\begin{longtable}{|c|c|p{110mm}|}
% \multicolumn{3}{l}{\tablename~\thetable~---~Пример таблицы\label{T:T1}}\\\hline
% Название 1  & Название 2 & Название 3 \\
%\hline
%\endfirsthead
% \multicolumn{3}{l}{Продолжение таблицы~\ref{T:T1}}\\
%\hline
%1 & 2 & 3 \\
%\hline
%\endhead
%Это  & пример & данных  \\
%\hline
%помещённых & внутрь & таблицы \\
%\hline
%\end{longtable}



\begin{thebibliography}{1} %% здесь библиографический список

\bibitem{shiryaev}
{Ширяев} А.Н.
\newblock {\em Вероятностно--статистические методы в теории принятия решений}
\newblock М.: МЦНМО, 2011.

\bibitem{directive}
\newblock {\em DIRECTIVE 2010/40/EU OF THE EUROPEAN PARLIAMENT AND OF THE COUNCIL}
\newblock on the framework for the deployment of Intelligent Transport Systems in the field of road transport and for interfaces with other modes of transport.
\newblock 7 July 2010.

\bibitem{blekuellGirshik}
{Блекуэлл Д., Гиршик М.А.}
\newblock {\em Теория игр и статистических решений}
\newblock М.: ИЛ, 1958.
\newblock Пер. с англ.: D. Blackwell, M.A. Girshick.
\newblock Theory of games and statistical decisions, 1954.

\bibitem{karlin}
{Карлин С.}
\newblock {\em Математические методы в теории игра, программировании и экономике.}
\newblock М.: Мир, 1964.
\newblock Пер. с англ.: S. Karlin
\newblock Mathematical methods and theory in games, programming, and economics. London--Paris:Pergamon Press, 1959.

\bibitem{leman}
{Леман Э.}
\newblock {\em Проверка статистических гипотез.}
\newblock М.: Наука, 1964.

\bibitem{aivazyan}
{Айвазян С.А., Енюков И.С., Мешалкин Л.Д.}
\newblock {\em Прикладная статистика: Основы моделирования и первичная обработка данных.}
\newblock М.: Финансы и статистика, 1983.

\bibitem{eremin}
{Бадалян А.М., Ерёмин В.М.}
\newblock {\em Компьютерное моделирование конфликтных ситуаций для оценки уровня безопасности движения на двухполосных автомобильных дорогах.}
\newblock Научная монография. М.: ИКФ <<Каталог>>. 2007. 240с.

\bibitem{_5}
{Бадалян А.М.}
\newblock {\em Имитационная модель транспортных потоков на перегонах двухполосных городских улиц.}
\newblock Рукопись депонирована в справочно--информационном фонде ЦБНТИ концерна "Росавтодор" N 228 ад. Реферат рукописи опубликован в библ. указателе "Депонированные научные работы" N 2, 1992.

\bibitem{_6}
{Бадалян А.М. и др.}
\newblock {\em Моделирование энергоэкологических характеристик транспортных потоков в городах по материалам дистанционного мониторинга.}
\newblock Известия РАН. ТиСУ. 2002. N4. С. 160--176.

\bibitem{_7}
{Бусленко Н.П.}
\newblock {\em Моделирование сложных систем.}
\newblock М.: Наука, 1978 г. 339с.

\bibitem{_10}
{Гаврилов А.А.}
\newblock {\em Моделирование дорожного движения.}
\newblock М.: Транспорт, 1980. 189с.

\bibitem{_12}
{Дрю Д.Т.}
\newblock {\em Теория транспортных потоков и управление ими.}
\newblock М.: Транспорт, 1972. 423с.

\bibitem{_13}
{Еремин В.М.}
\newblock {\em Теория имитационного моделирования транспортных потоков в проектировании дорог и организации движения. Повышение транспортных качеств автомобильных дорог и безопасности движения.}
\newblock Сб. науч. трудов. МАДИ . М.: 1986. с. 3--14.

\bibitem{_16}
{Еремин В.М.,Крбашян В.Г.}
\newblock {\em Имитационное моделирование движения потоков автомобилей в зоне примыкания горных дорог для оценки безопасности движения.}
\newblock Сб. науч. трудов МАДИ. М.: 1984. с. 102--108.

\bibitem{_18}
{Иносэ Х., Хамада Т.М.}
\newblock {\em Управление дорожным движением.}
\newblock  Пер. с англ. М.: Машиностроение, 1983. 248с.

\bibitem{_23}
{Клинковштейн Г.И., Афанасьев М.Б.}
\newblock {\em Организация дорожного движения: Учеб. для вузов.}
\newblock 4--е изд., перераб. и доп. М.: Транспорт, 1997. 231с.

\bibitem{_29}
{Нейлор Т.}
\newblock {\em Машинные имитационные эксперименты с моделями экономических систем.}
\newblock М.:Мир, 1975. 500с.


\bibitem{_34}
{Сильянов В.В.}
\newblock {\em Теория транспортных потоков в проектировании дорог и организации движения.}
\newblock М.: Транспорт, 1977. 303с.

\bibitem{_35}
{Сильянов В.В., Еремин В.М., Муравьева Л.И.}
\newblock {\em Имитационное моделирование транспортных потоков в проектировании дорог.}
\newblock М.: МАДИ. 1981. 119с.

\bibitem{_41}
{Хейт Ф.}
\newblock {\em Математическая теория транспортных потоков.}
\newblock М.: Мир, 1966. 187с.




\end{thebibliography}

\chapter{Приложение А}
\section{Исходный код модуля обнаружения разладки}

\begin{verbatim}

     1	#include <vector>
     2	#include <fstream>
     3	#include <iostream>
     4	#include <string.h>
     5	#include <math.h>
     6	#include "wald_detection.h"
     7
     8	double WaldDetection::get_mu(){
     9	    return mu_0;
    10	}
    11
    12	WaldDetection::WaldDetection(double alpha, double be
ta, double * standard_dts, int size, double s){
    13	    int i;
    14	    _T = 300;
    15	    _A = log(beta/(1-alpha));
    16	    _B = log((1-beta)/alpha);
    17	    mytime = 0;
    18	    car_count = 0;
    19	    index = 0;
    20	    j = 0;
    21	    count1 = 0;
    22	    sum1 = 0;
    23	    count2 = 0;
    24	    sum2 = 0;
    25	    sigma = s;
    26	    for (i = 0; i < size; i++){
    27	        dts[index] = standard_dts[i];
    28	        index = (index + 1) % 300;
    29	        mytime += standard_dts[i];
    30	        car_count += 1;
    31	        if (mytime > _T){
    32	            sum1 += car_count - 1;
    33	            count1 += 1;
    34	            sum2 += car_count - 1;
    35	            count2 += 1;
    36	            while (mytime > _T){
    37	                mytime -= dts[j];
    38	                j = (j + 1) % 300;
    39	                car_count--;
    40	            }
    41	        }
    42	    }
    43	    mu_0 = sum1 / count1;
    44	}
    45
    46	double WaldDetection::add_point(double point){
    47	    double mu_inf_greater = mu_0 + 1;
    48	    double mu_inf_smaller = mu_0 - 1;
    49	    int fl = 0;
    50	    int cc;
    51	    int _T = 300;
    52	    double _Zt, _Zt_s;
    53	    mytime += point;
    54	    car_count += 1;
    55	    dts[index] = point;
    56	    index = (index + 1) % 300;
    57	    if (mytime > _T){
    58	        sum1 += car_count - 1;
    59	        count1 += 1;
    60	        sum2 += car_count - 1;
    61	        count2 += 1;
    62	        _Zt = sum1 * ((mu_0 - mu_inf_greater)/(sigma
*sigma)) - (1/(2*sigma*sigma))*(mu_0*mu_0 - mu_inf_greater*m
u_inf_greater)*count1;
    63	        _Zt_s = sum2 * ((mu_0 - mu_inf_smaller)/(sig
ma*sigma)) - (1/(2*sigma*sigma))*(mu_0*mu_0 - mu_inf_smaller
*mu_inf_smaller)*count2;
    64	        if (_Zt_s >= _B){
    65	            sum2 = 0;
    66	            count2 = 0;
    67	        }else{
    68	            while (_Zt_s <= _A && mu_inf_smaller > 1
){
    69	                fl = 1;
    70	                mu_inf_smaller -= 1;
    71	                _Zt_s = sum2 * ((mu_0 - mu_inf_small
er)/(sigma*sigma)) - (1/(2*sigma*sigma))*(mu_0*mu_0 - mu_inf
_smaller*mu_inf_smaller)*count2;
    72	            }
    73	            if (fl == 1) {
    74	                sum2 = 0;
    75	                count2 = 0;
    76	                mu_0 = mu_inf_smaller;
    77	                cc = car_count;
    78	                while (mytime > _T){
    79	                    mytime -= dts[j];
    80	                    j = (j + 1) % 300;
    81	                    car_count--;
    82	                }
    83	                return cc - 1;
    84	            }
    85	        }
    86	        if (_Zt >= _B){
    87	            sum1 = 0;
    88	            count1 = 0;
    89	        }else{
    90	            while (_Zt <= _A && mu_inf_greater <= 36
00){
    91	                fl = 1;
    92	                mu_inf_greater += 1;
    93	                _Zt = sum1 * ((mu_0 - mu_inf_greater
)/(sigma*sigma)) - (1/(2*sigma*sigma))*(mu_0*mu_0 - mu_inf_g
reater*mu_inf_greater)*count1;
    94	            }
    95
    96	            if (fl == 1) {
    97	                sum1 = 0;
    98	                count1 = 0;
    99	                mu_0 = mu_inf_greater;
   100	                cc = car_count;
   101	                while (mytime > _T){
   102	                    mytime -= dts[j];
   103	                    j = (j + 1) % 300;
   104	                    car_count--;
   105	                }
   106	                return cc - 1;
   107	            }
   108	        }
   109	        while (mytime > _T){
   110	            mytime -= dts[j];
   111	            j = (j + 1) % 300;
   112	            car_count--;
   113	        }
   114	    }
   115	    return 0;
   116	}
\end{verbatim}

% \bibliography{biblio/filosofy} %% вместо вставки библиографии можно использовать базы BiBTeX - просто раскомментируйте эту строку.
\end{document}